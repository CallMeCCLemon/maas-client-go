/*
Copyright 2021 Spectro Cloud

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/

package maasclient

import (
	"context"
	"github.com/stretchr/testify/assert"
	"math/rand"
	"os"
	"testing"
	"time"
)

func TestMain(m *testing.M) {
	rand.Seed(time.Now().UnixNano())
	code := m.Run()
	os.Exit(code)
}

func TestClient_GetMachine(t *testing.T) {
	c := NewAuthenticatedClientSet(os.Getenv("MAAS_ENDPOINT"), os.Getenv("MAAS_API_KEY"))

	ctx := context.Background()
	res := c.Machines().Machine("e37xxm")
	_, err := res.Get(ctx)
	//.machine(ctx, "e37xxm")

	assert.Nil(t, err, "expecting nil error")

	assert.NotNil(t, res, "expecting non-nil result")
	assert.NotEmpty(t, res.SystemID())
	assert.NotEmpty(t, res.Hostname())
	assert.Equal(t, res.State(), "Deployed")
	assert.NotEmpty(t, res.PowerState())
	assert.Equal(t, res.Zone().Name(), "az2")

	assert.NotEmpty(t, res.FQDN())
	assert.NotEmpty(t, res.IPAddresses())

	assert.NotEmpty(t, res.OSSystem())
	assert.NotEmpty(t, res.DistroSeries())

	assert.Zero(t, res.SwapSize())

}

func TestClient_AllocateMachine(t *testing.T) {
	c := NewAuthenticatedClientSet(os.Getenv("MAAS_ENDPOINT"), os.Getenv("MAAS_API_KEY"))

	ctx := context.Background()

	releaseMachine := func(res Machine) {
		if res != nil {
			_, err := res.Releaser().
				WithComment("releaseaan").
				Release(ctx)
			assert.Nil(t, err)
			assert.NotNil(t, res)
		}
	}

	t.Run("no-options", func(t *testing.T) {
		res, err := c.Machines().Allocator().Allocate(ctx)

		assert.Nil(t, err, "expecting nil error")
		assert.NotNil(t, res)

		releaseMachine(res)
	})

	t.Run("bad-options", func(t *testing.T) {
		res, err := c.Machines().
			Allocator().
			WithSystemID("abc").
			Allocate(ctx)

		assert.NotNil(t, err, "expecting error")

		releaseMachine(res)
	})

	t.Run("with-az", func(t *testing.T) {
		res, err := c.Machines().Allocator().WithZone("az1").Allocate(ctx)

		assert.Nil(t, err, "expecting nil error")
		assert.NotNil(t, res)

		releaseMachine(res)
	})

}

func TestClient_DeployMachine(t *testing.T) {
	c := NewAuthenticatedClientSet(os.Getenv("MAAS_ENDPOINT"), os.Getenv("MAAS_API_KEY"))

	ctx := context.Background()

	releaseMachine := func(res Machine) {
		if res != nil {
			_, err := res.Releaser().
				WithComment("releaseaan a").
				Release(ctx)
			assert.Nil(t, err)
		}
	}

	t.Run("simple", func(t *testing.T) {
		res, err := c.Machines().Allocator().Allocate(ctx)
		if err != nil {
			t.Fatal("Machine didn't allocate")
		}
		assert.NotNil(t, res)
		assert.NotEmpty(t, res.SystemID())

		res, err = res.Modifier().SetSwapSize(0).Update(ctx)
		assert.Nil(t, err)

		_, err = res.Deployer().
			SetOSSystem("custom").
			SetUserData("IyMgdGVtcGxhdGU6IGppbmphCiNjbG91ZC1jb25maWcKCndyaXRlX2ZpbGVzOgotICAgcGF0aDogL2V0Yy9rdWJlcm5ldGVzL3BraS9jYS5jcnQKICAgIG93bmVyOiByb290OnJvb3QKICAgIHBlcm1pc3Npb25zOiAnMDY0MCcKICAgIGNvbnRlbnQ6IHwKICAgICAgLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCiAgICAgIE1JSUN5ekNDQWJPZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKICAgICAgY201bGRHVnpNQjRYRFRJeE1EZ3dOVEEyTURNeU0xb1hEVE14TURnd016QTJNRGd5TTFvd0ZURVRNQkVHQTFVRQogICAgICBBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTSs2CiAgICAgIGVHdE5WQ3JwY1JNK2RwL1NpY0lMcWpvMkpiMy9UdWpMYzVFN1RWcHdVWmpVOTBCTDFUTHA1eWNlTzlCU0o1dUwKICAgICAgY29KeHZ4OVpScVZNYmUrRGJIV3NVdFpHVGJBMWR3OEZrakM0YlRGMDkwckorT1YwSWRtMnZvOXZvd0FXT2pSNgogICAgICBBTktvc0JMbDVCdStyL1hLWnZxS3B6amRzTUFMTUxWd252VW14cWU5aWdtcHFnc3JLLzJsT3hleWtoUGxJUmZvCiAgICAgIDdYTVl0YUkzZm1SMDh3ZmoxejRzSmN3d2FUTlVvUjZ3MlMxUlpxVzRzL2NZN01qUGtBREtGak1SRWxWMTg2blEKICAgICAgeDMvSXo4VFFvOEpveEpoVXNnTWl3SGd6R1ZoWkVqWWhUOUNXN3ZwWHRvZW9pcTQxclBhQ216MmRkeVhFOGlFdQogICAgICAzVm1JTmFuY3BtVnlPMGxjZXpNQ0F3RUFBYU1tTUNRd0RnWURWUjBQQVFIL0JBUURBZ0trTUJJR0ExVWRFd0VCCiAgICAgIC93UUlNQVlCQWY4Q0FRQXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBTXArSTVRYVJlbmdMQXRpNHVFd2lMZ1oKICAgICAgdkpCOGIzaFpwNy9CdWIzZGFIczB3UVRscUVoSzA0Vjl3elFsN0Z1VktqU09JWHJoZC9ES1ZOa0ozREhHVnVlRwogICAgICBPZ21NK1dMQ0p5dGxZd0F5QlJCRUh4anNiYVBOUlpjU0JQVlJPNW1CWG5nUXVKMlBnR0pFQVlzYjlCUFFhMkZwCiAgICAgIFdLbWx2dUh5NWJtUStodXI1d1didlNzVmh0WTF5emVxUWVOOUhTVG1vdkJTczR6Q0lYaXhCWEtRNXFoVUlIRVQKICAgICAgUDUxc21KY2M5ZGc1bVFzZjBaRzB0eVgxeXlyUFVJcDRGTVUxWHNNRXhvMjZYMXVpZmNheWdPdW5NU3dLcEE3RwogICAgICBsVm9sTEVDNmNQY0c1ZldIZ3pvZkcxMStzd1JwdjNUZUFoSjJaMUttZ242bzN5dzhIWkVEWmdLSGJNdTFlQ2c9CiAgICAgIC0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KICAgICAgCi0gICBwYXRoOiAvZXRjL2t1YmVybmV0ZXMvcGtpL2NhLmtleQogICAgb3duZXI6IHJvb3Q6cm9vdAogICAgcGVybWlzc2lvbnM6ICcwNjAwJwogICAgY29udGVudDogfAogICAgICAtLS0tLUJFR0lOIFJTQSBQUklWQVRFIEtFWS0tLS0tCiAgICAgIE1JSUVwUUlCQUFLQ0FRRUF6N3A0YTAxVUt1bHhFejUybjlLSndndXFPallsdmY5TzZNdHprVHROV25CUm1OVDMKICAgICAgUUV2Vk11bm5KeDQ3MEZJbm00dHlnbkcvSDFsR3BVeHQ3NE5zZGF4UzFrWk5zRFYzRHdXU01MaHRNWFQzU3NuNAogICAgICA1WFFoMmJhK2oyK2pBQlk2TkhvQTBxaXdFdVhrRzc2djljcG0rb3FuT04yd3dBc3d0WENlOVNiR3A3MktDYW1xCiAgICAgIEN5c3IvYVU3RjdLU0UrVWhGK2p0Y3hpMW9qZCtaSFR6QitQWFBpd2x6REJwTTFTaEhyRFpMVkZtcGJpejl4anMKICAgICAgeU0rUUFNb1dNeEVTVlhYenFkREhmOGpQeE5DandtakVtRlN5QXlMQWVETVpXRmtTTmlGUDBKYnUrbGUyaDZpSwogICAgICByaldzOW9LYlBaMTNKY1R5SVM3ZFdZZzFxZHltWlhJN1NWeDdNd0lEQVFBQkFvSUJBUUNyU2s4cjVBc0lpNUJ6CiAgICAgIFZ1bUlacHF6eU55b3ZhZW5vVlJYUUJUZTZEQ2o1OFJSS3lOckFGMGdhNkh4THN3UnZ2enNGVFBxZnBNajdZRUUKICAgICAgb3g1d0IwWXpUbExNWUJLRnY4Q2FRWFRIK2Z3SWNUUE5sdmhIZE5qSTV4a0J2QU9EK2RBckg0TjRNaU5tb2V6VQogICAgICBPQXh1dUdUc0tkTTBZQkgwZWdYRFI4ZTd6U3E0ZTJWNUZha0RsOUlNSnhpZXNweU9JWWM0cnhpNXVsZHZHV1VaCiAgICAgIHEvdHdMSDNVTFRZdHNnTktTcUdnQTlrWmxRZ3NjRDhId3FyMXBOYUYvRjJqaU11WkhYRmRDYmxLWkNJVU0vamoKICAgICAgUzdVNkdCWDh1QUZqbk1PdTh5RnlmTE5NcWNwWHQ4TXk1ZWRyUG0xRGxWUTQ5ZG1wK08vQXEzWnFMM2VNNHRxVQogICAgICBPeFZOb0NuUkFvR0JBT2ltSlpnaTkraEZsZ2txWkxyVDlVa082cUxNN0hjY29sbjhrdlVVeUwyYXZpN1dDb3pYCiAgICAgIDRPR3g1R01NMWQzeDVIVHRZTlkzNGhRd2lCRzd5UVFGNzFSaEdPY1NTUmgyTDBmVmEyNlNuSG5SQ3p4QWd0RDEKICAgICAgUFBYcTI1V2tMLyszM2U4ZEhuN0JHVXlkaWFNVm5FZENIenI5V2plVzBMQXVOdTZITFM4Sko3a2JBb0dCQU9TVAogICAgICAvc1ZmWGw2WHlneEtsUUt1WFRMOTlZSEtVU0d3Z0gzM1JwYm0zRlUrSW8vWUE1WnRFeDZ3ellsRnV1ZG51LzZjCiAgICAgIDN0UndXTGV6aVg5OFBUeFNyUVlpZUZ3SFcveDhuM3pMcHNmOEdOUVU4SVBheGdaY3VHUktmRDBTdnN0ZEtnMmcKICAgICAgZ2xCbW8yV1NsQUMzQk1lVUExbmdmdkZVUnBINUllTFVPVTFNUTcvSkFvR0JBTWxlRGNvcDhqUGNEeW90eEhRbAogICAgICBRL2lSYmF1dC9icDNVVnJjRUFNTGsxanhtRTJIdkNmK0xzcUxKQ2hMa3MyQk1vRzJlUXZSNE9BaXhaTzcyeGlkCiAgICAgIFhuTEZmRDE5Q1VHZ0FmcUdFbS9wZklDLzNKNnhJOGxqaXZrNzZBWVV6K3JocGJueWxWT1hKYU8zODhyeHlJdXgKICAgICAgQXNFWFMwQTBUTHRCdFJBdWRvQnd4eTRqQW9HQkFLdzdyODg5Q3ppdm16a2p3YUFoam14cjIrQU9lSSt3RlVIVgogICAgICBYMFU1YzNCdnYwOHY3NVFiWURyUjhpMnJjeWdHakN0UVBMOUtZQzhiZzFHaVplbmNTaS9ETFhuNnVaOUlzRXd5CiAgICAgIGo5dEU0OWg2WnJpVDBuN2N3cndmTy9vdzg3Nzgxa0VxWHNjQ2I4Q0xjQ1lSd2ZJNFgwWUwyTnN6SzNHMmpZZ0QKICAgICAgYmFJSEEwMnhBb0dBRS90VTlQSkYvcW5jSzhGWFJhZUg2SHJNb1VuVzFCZ1VYQ2srekNqcDRoNUJLS1lhdnY5awogICAgICBZelFjeGEvVjZzV3B1WWw2ckdkMkJaeHp1NUdYeWlVTFlmWEEwbHRZZUV3WVU0M1Erc21La3RNc3JFVERQdytTCiAgICAgIDhESG9hRmJhdjFWS3Q4Y3M2QjBEZFc2ZHN2ZXdBck05ZVlMTS84M0w4OUVLN2hCV1pqeXZrOFU9CiAgICAgIC0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCiAgICAgIAotICAgcGF0aDogL2V0Yy9rdWJlcm5ldGVzL3BraS9ldGNkL2NhLmNydAogICAgb3duZXI6IHJvb3Q6cm9vdAogICAgcGVybWlzc2lvbnM6ICcwNjQwJwogICAgY29udGVudDogfAogICAgICAtLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KICAgICAgTUlJQ3l6Q0NBYk9nQXdJQkFnSUJBREFOQmdrcWhraUc5dzBCQVFzRkFEQVZNUk13RVFZRFZRUURFd3ByZFdKbAogICAgICBjbTVsZEdWek1CNFhEVEl4TURnd05UQTJNRE15TkZvWERUTXhNRGd3TXpBMk1EZ3lORm93RlRFVE1CRUdBMVVFCiAgICAgIEF4TUthM1ZpWlhKdVpYUmxjekNDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFNTjIKICAgICAgRTBRaUtZU09Id1RXa09FRGFRRmR5TVZaRlNmR0ZHbXV2dHZUNVYvU00rSC9wU3FmTUhtVnIxT0pYN1VSTDFXSQogICAgICA4MW96enFHUW0rS0tZdE1NSDNqaHRzOHFiR2gxUFBaaDJOZDB3dWFQWW9oQmMxUlhYQit0dGIvazdxVTFyNnFHCiAgICAgIGZZVi96KzVGbHJ5amZKL1Y2Z2RlSEFyYys3SUU5NFphM0ZBTFhMWnRKTGFGUWdiUjRRcFFBMlZKdUd3NEJkNFAKICAgICAgZGU4eVh2c0RqWk11d1Mwc1ExejUzcjNzUzVnNWIwb3Y0WWpJeHNRMjJpUEUycnk3OCtwS0dMRjFhaVFFQnordwogICAgICBPV0tJK2Q2SGIyeHdjRHBhbU5HT2FSZnozeXUvMVlGSzh1a0kveUxRMGV3YkpGOElYdWlFWGY4SFJ3UDBUSDNsCiAgICAgIGNNYzBGaUIrVGZiWWdhSjZwUUVDQXdFQUFhTW1NQ1F3RGdZRFZSMFBBUUgvQkFRREFnS2tNQklHQTFVZEV3RUIKICAgICAgL3dRSU1BWUJBZjhDQVFBd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFER3BPWENkWXpjOTFNYTdzMkZDRE01cQogICAgICB3K1RCdW1qVXBQTnhUNHNpTkhPUWljTjAwYzJZaHBzcmFxeS9OVFUrMVZuSEEwbnh2aHRLOGl3ZUdyNEpoTGlVCiAgICAgIHB6SHRZYmxQdGRnYTNhRnJ0ODVqMnBsVXJPNy9WRkEySE1WR211MnhYU2ZHZkE2ZndVcFhGZHRucCtNaGNwb3kKICAgICAgY2EzL2VWdFhFcU4zZzNzL080SDlaTEQ2cmNlK0xmRkZqWFZGaEw2WFVxTFNjRmdnLzRuUnh5dzA0NU9oT0pBUgogICAgICBGWnRyRW52UkQrNzJQZE5KeGRmVldGaFpJdHFEem5QSUo0N2NDL3QwYUlhTldOK2VGOXQ1NldXZktZSXpLT1RXCiAgICAgIHI4R1MvMjFFVTI3am1pQU8wZ04wdWZOdnlRNUZXWEI5TG5NMFRuNG5Gc2Nyd0tKQ3JsbzJkNkRRVmRZVE0wND0KICAgICAgLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQogICAgICAKLSAgIHBhdGg6IC9ldGMva3ViZXJuZXRlcy9wa2kvZXRjZC9jYS5rZXkKICAgIG93bmVyOiByb290OnJvb3QKICAgIHBlcm1pc3Npb25zOiAnMDYwMCcKICAgIGNvbnRlbnQ6IHwKICAgICAgLS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQogICAgICBNSUlFb3dJQkFBS0NBUUVBdzNZVFJDSXBoSTRmQk5hUTRRTnBBVjNJeFZrVko4WVVhYTYrMjlQbFg5SXo0ZitsCiAgICAgIEtwOHdlWld2VTRsZnRSRXZWWWp6V2pQT29aQ2I0b3BpMHd3ZmVPRzJ6eXBzYUhVODltSFkxM1RDNW85aWlFRnoKICAgICAgVkZkY0g2MjF2K1R1cFRXdnFvWjloWC9QN2tXV3ZLTjhuOVhxQjE0Y0N0ejdzZ1QzaGxyY1VBdGN0bTBrdG9WQwogICAgICBCdEhoQ2xBRFpVbTRiRGdGM2c5MTd6SmUrd09Oa3k3QkxTeERYUG5ldmV4TG1EbHZTaS9oaU1qR3hEYmFJOFRhCiAgICAgIHZMdno2a29Zc1hWcUpBUUhQN0E1WW9qNTNvZHZiSEJ3T2xxWTBZNXBGL1BmSzcvVmdVcnk2UWovSXREUjdCc2sKICAgICAgWHdoZTZJUmQvd2RIQS9STWZlVnd4elFXSUg1Tjl0aUJvbnFsQVFJREFRQUJBb0lCQUhXc1BUY1VsZ2d1ZzdBbQogICAgICArUHZ1VUtZNDd1a1lrMnJwamxwOWtIdkptdHJRTXRvSlRVZFdwUmxkcXpyUWhtVDgzcEZSTEtpT2JnVElpWUNlCiAgICAgIExaYS9RcWRFeEFqK2tsdGswWG5IT0lPbDBMeDdjQ2QxdDlmNzdBTktVaFFmNENob0pNUzF5Ulc0OTlhTDRJN2EKICAgICAgb2VtY0lCT2xiWjZBb2FydjRKRHJYSjEzNmE0TkF6YlI1M21reXF5dHAwREVKTGVoVkF0QnVvMGNWYURjakdOTgogICAgICBoVGFJanM5T1ZXNEF4T0ZtTlA0MWhLNnA3bmVLVm5lOGhGcXZmN3F5elE5aStvZkxJZ3ROc2dMWWxHdGtaVHZ6CiAgICAgIFd5K0FKdVFTVzBlUGhXSk9aclRGNDZ0OTJpckl4bTQvTkZNRUFwZVYramtJMnE4T2llU2tIQzhXa2lta2pDTTYKICAgICAgZWlOZHRqMENnWUVBMEM0NHUwS1U4TitsYVlJUTFwZmloY0JCNGNoMWVQUzY3OGo5NlQ0WXFla0ZhdE0zbi9WcwogICAgICBEMnBjbUZ3MmY3ZCtjUWhwN2ZuK3Q2cGVkTmdoTnVUR2pzRVo0aXgvSWhWTzhkTWRsRmt3amhGNmZEbE0vVkVlCiAgICAgIEZZSHdNdTcyc24rMlVZQUYvUHpKVEp5WUdTdnVoMkY1aTg4aU1xV1c2c2JkQ2k2azEwNjdaYWNDZ1lFQThGdnAKICAgICAgTm9jREFFbU1rUllxcExrZFpiZkJRSUtsbWJHVk40T1krUGoxdXllVU5rWll2LzdXOWpvMzdaMXo0bytLZEFIRAogICAgICAxMzJLaytNbFZIdEhlOE5PcW45dXRSdVdmeS9obzZheTdPTDNQNHVGS0p2b0xwRkxkNVJLdlhueENzR1h5T3hwCiAgICAgIHBHTlFsaEo3M3hmRFVVekpJN0FsQ1gxVjZ5VmVJeDFId0VXZHhSY0NnWUJvZERpczVMeDhtNHFRaE4xVC93TisKICAgICAgbnJldnhQZ0VSNjhnTHhZUG1NT2hSVFVkbzNzT2ZJTEt2VkJXZGpZMklPaUZhSFpXSEpDTXNTUVJ0bnY3NGhBcQogICAgICBnb010TTZ4YWVweVF3NS9jMWwrQmVRMmZGTlVuYVRNU0VZOW16dlhqSENkcmZ6UUIrd2c1czN5eGJKU1RRdnBNCiAgICAgIGh4S2VuTzA3UWFxWXVFeW5aMjZwa3dLQmdGWGFicDNrY2NUN2dITWVlTkxuc0VGeDlseEZqa01zdEVEbEI1SCsKICAgICAgMHo4cmJ2eEgrbEZ5QkhSazdTODVxM2dFajQ3S1JwckZJK2VaSGU5a0xXOWVuczIxd09SOTJ5N0krbzdLNzJRLwogICAgICAyZExmMGd0a1RQVzlQamlUUm5NUmlIQ3dIN2hNQVp3UFFXeXBZNGVYWkZPNDJxdWRzazBHY05jU1BPTE1CYUgrCiAgICAgICs5QzNBb0dCQUo3TjBxZ0FGMjE1bDZ4cml3S3pVN3Z4RTRWTnloMlZiOERaVGFtZlZRd3hXN1BYQkJrUGxVVm4KICAgICAgYzQ2QmFENkpTWGlFbTByeDB0RVU3aXBvczA1SkpEYld1eVB4NUFQcXpPMDRqWWhTeTdTSHNtN1MyU1NVNEZYagogICAgICBVeDNOV25pRHNUTzZhMUlwU0huVXVnek5RQ01yY1FiM3pTa3Z0UkNwazhjMjFmRDBDNDYxCiAgICAgIC0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCiAgICAgIAotICAgcGF0aDogL2V0Yy9rdWJlcm5ldGVzL3BraS9mcm9udC1wcm94eS1jYS5jcnQKICAgIG93bmVyOiByb290OnJvb3QKICAgIHBlcm1pc3Npb25zOiAnMDY0MCcKICAgIGNvbnRlbnQ6IHwKICAgICAgLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCiAgICAgIE1JSUN5ekNDQWJPZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKICAgICAgY201bGRHVnpNQjRYRFRJeE1EZ3dOVEEyTURNeU5Gb1hEVE14TURnd016QTJNRGd5TkZvd0ZURVRNQkVHQTFVRQogICAgICBBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBS2JyCiAgICAgIEFQVTk3amd4VkpnUEFPaU12OTcwc2tuVHFVTWhBa3pDS1Z1eDNFNjB0NnhVR1A2QkhVSEwyY2RUWjB6QlA5TW0KICAgICAgTmhUVTNuMnh5Z1FVa25WNXR3cHBrS2hzeHhLK1prY2FZMVlud3hsdWVOYytmdWlKbldRaCsvYXRMSlRYbTcvcAogICAgICB2MndiTW1VeVRXRmgrd2hyWXg0aUhjTm9GeHhwZTltdEZHOU9JNG0yV0k0TUJQUFhUOFA1T1NTZDBHOVNrVWpICiAgICAgIFYyYW5OMUQwdVNMMTd1eDArS3liRVVOclBSRUpVWnZCR0UybGZzMTRXOSsxRGgwWDVEMGdVR2xOWGRsczlpOXIKICAgICAgbnVKQzBpQkpWY2NEclRPMlhEbWxoMEdTaXQ2WUoyMVk1eTcxQ1lSdkZCR2xCNlhwcHpGaW5qVHdldjZFS25ZTQogICAgICBUKzBEVit2ZFVLa1lMT3FFUzEwQ0F3RUFBYU1tTUNRd0RnWURWUjBQQVFIL0JBUURBZ0trTUJJR0ExVWRFd0VCCiAgICAgIC93UUlNQVlCQWY4Q0FRQXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBRlNjdFdQUEN3VnMzdHE1V1dWUkloMEcKICAgICAgbXltR1JqbjZlbmpWUFRKSC8vRzlxMEtwaGNoanE2MnJ0VFVrdDRlcm5wd3dEQ3p0dW5JejZnQXNDMEl4SEJuQwogICAgICB5bUNzdXBtNm1Ra0V2bFQ0OTQwN2duRlErZ2xzeXowVmVTL3V3RnVlczNmaWg2WlVLQmhsQmFaMUJPMjRxSS92CiAgICAgIHRrSG0yNFdkN092a2pXYm5DciszdTI0R01UZ0pRRGhCYnc0bmdQWDJ0dTUzWmtubmpnWTFReXVLN3YwUFBwRWUKICAgICAgajVlVTUvQlhqL3krVHNKQ1dTdTh5SjRVYUZOL0l0Snd5ZFRrTStTYTJHTUdCK2RlUnRzb0hCbXVERlRKVitESgogICAgICAvS1hKZzVHRWVYdFVLTFlENFoydUpzOXJrdmFtNnhKcHZyT3pmRnNxTzFFTG9TL0o3ODc3c1pmZVdTa3lTeGM9CiAgICAgIC0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KICAgICAgCi0gICBwYXRoOiAvZXRjL2t1YmVybmV0ZXMvcGtpL2Zyb250LXByb3h5LWNhLmtleQogICAgb3duZXI6IHJvb3Q6cm9vdAogICAgcGVybWlzc2lvbnM6ICcwNjAwJwogICAgY29udGVudDogfAogICAgICAtLS0tLUJFR0lOIFJTQSBQUklWQVRFIEtFWS0tLS0tCiAgICAgIE1JSUVwUUlCQUFLQ0FRRUFwdXNBOVQzdU9ERlVtQThBNkl5LzN2U3lTZE9wUXlFQ1RNSXBXN0hjVHJTM3JGUVkKICAgICAgL29FZFFjdlp4MU5uVE1FLzB5WTJGTlRlZmJIS0JCU1NkWG0zQ21tUXFHekhFcjVtUnhwalZpZkRHVzU0MXo1KwogICAgICA2SW1kWkNINzlxMHNsTmVidittL2JCc3laVEpOWVdIN0NHdGpIaUlkdzJnWEhHbDcyYTBVYjA0amliWllqZ3dFCiAgICAgIDg5ZFB3L2s1SkozUWIxS1JTTWRYWnFjM1VQUzVJdlh1N0hUNHJKc1JRMnM5RVFsUm04RVlUYVYrelhoYjM3VU8KICAgICAgSFJma1BTQlFhVTFkMld6MkwydWU0a0xTSUVsVnh3T3RNN1pjT2FXSFFaS0szcGduYlZqbkx2VUpoRzhVRWFVSAogICAgICBwZW1uTVdLZU5QQjYvb1FxZGd4UDdRTlg2OTFRcVJnczZvUkxYUUlEQVFBQkFvSUJBUUNBRXlXakJ5ZjRPZkc4CiAgICAgIDB4WlJXVjRIeHgzZUEraUdONWU2S2VqdUVLVUlSeVgvdG0rUEtLYTRTNkFJajNoZHJwSTRnOE5QYko1ak43M1kKICAgICAgTDZqSk51RTV2aEpmQ1VnZW03V0NyVDYzWnI4T2puTnVST2UvcVlmNHd4TEFEZFI5U0lxYlVOR3VNNWdSaWUxUgogICAgICA0WXBxeFd0Q1BjODBsblBWT3lMcXZTRkczbC9xVTUvV3RMS0xyUVlSd0xUVXYzclk3aXVuNHp0bzJXVm1qQXNmCiAgICAgIHBick9tc3RtQWNBMmQzV3FBRFZGUkU1b1RhSmwyYUtTbWlPV2ZIWDNucWlEaDJmVmtmbkhVNG9vU3pYM1pFZ3gKICAgICAgQlFQVENpMEtyZjFFd2JaTnZPeFlRK0JKMllUY1lhNTl2ZWNVYlA3bUQ2MHVkTWNYQ2lOM0R6aG41aU44Q0R0MQogICAgICB5MVFzSnlmQkFvR0JBTjJIeStocmQrWk9qMHdoa051V2JxZ2tFeWFYYkZyNnM5TEN5UnpuTEtUM2pHKzZXazB5CiAgICAgIEppcnhqQndrYjBRWjQ2Y2crNGhSRWJFWGltSndoaEtIR3pOemdhYXVrZDUwWmMzWWZIa3hRa240UnA5QkZPcVYKICAgICAgdFF6SnBpTGlkYkU5dWxlVG5xaWJuZDZrbXhyeG1SZGdVUUNuSUxQQ0prV3dUcmtHK1E1SFBaSXBBb0dCQU1EagogICAgICAxVmJTUml3emczTFN5WmlSWGxBWFFtbSsxK2NqMjB3OFQ0SGcyQkt6Njg3cUZ2NldCdnYrNjk4V3hiOXhsN3p3CiAgICAgIHJEd0c1Umk1aUp4MHBuTjd6NTdvY1RkcjIyWDFhUGNQSFNLdUVTVVk4YUxJVXJtVzFScU5UQnlKREtJdENQY3UKICAgICAgMGFmMTF5bzZkUFovNGQraCt6RU5OWGlqT0NrUExSZ29Vc1djY3A0VkFvR0FOMERaa1B6TkNQcHJMMWZuNDMwZgogICAgICAySHcyOHBjdUJYc21RdGttaERqOG42REd2RTlFbXFCNWVKaUtrN0phdGllbTZsYUZwamhpSzBOdDFxT3VMUXpaCiAgICAgIHNmbUxTdUdickZwbjBmRy9DaE5KTDEzbmIyMHlKRmgyc2R2UnZqMnhrU1dPUnEyaEV2ak5aV3kwNndGN1o2TTAKICAgICAgVU85ZWJyZHNDRkd6TU44V1c0TlZUaEVDZ1lFQWhIWnh0WlBsbU1rdmhoVDNXSXpMNWRoelJVZEg0WFdnVGZSRQogICAgICA3WDVKSkY3bW0wdnF5cDZnNFVFcEhpVDNYQWRZR3VwMGZTeUcrN205OVNPdWd6UU5XcVZweXBPSk1iV2NoYjJkCiAgICAgIFZvbVBRSmltcUJGRnJpbkU0dDBSM2E3SVBEOE5IeUxKMjd4YUxLZkVWdHR2ZERJNjNHNmp2OXJtNEZ1SnJrTlMKICAgICAgeEY0eDRCa0NnWUVBeEdVVWRzNGJwUVJvUGliYmhnUXlsVHBqSkNqNnNlaDY2b1l5VzlMNlhvNlVkeDkzYUJOYQogICAgICBhYmJTNzdDSG9CK1F0UllqMTFzTTRyK1pNcHFIbHg5M2QrbndRM08zU0JVT05qdGdSbHBad1lxYkQrOGkxVzJuCiAgICAgIFh1cUdjbndTSHJydkNSTzRDdUtzUHZ3TWR6aWF4bmtmRnpnaE9MTzlScGd5bmxNOWo0NFA4b0U9CiAgICAgIC0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCiAgICAgIAotICAgcGF0aDogL2V0Yy9rdWJlcm5ldGVzL3BraS9zYS5wdWIKICAgIG93bmVyOiByb290OnJvb3QKICAgIHBlcm1pc3Npb25zOiAnMDY0MCcKICAgIGNvbnRlbnQ6IHwKICAgICAgLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KICAgICAgTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUFtZ1g0bndIQ3diWmpiamMzMGpKNwogICAgICBqdnlPcUxtU3o2MlpKcDFtbk5SUVI0ejlhVjYvdmlLbXovdkNWUWgwb2J0NUozYzMwbXZjemxxNGhHV1BxZDBZCiAgICAgIEhpRnFpcmpSVlN0ekJxamZaMFE1elc1YlA0YlFxeVVEbE4wclNwZW5zdERoSmZKc0cvaEo4NTRtR1d4MytxbWoKICAgICAgckQ0MVpiUkgrcEl5TlN5UmRuZFBGRmhST25GZG51VlZ5Vm9obFQ5M2w2cWg0Q3h6NGdGYkZadGFPdHg5Ky9ENgogICAgICA2cld2Ym96RlI0cEhMMHdLRlFFdVc1U1N3U2JmQytCcUg2TWtLWS9yZ3NKMGd1MjBZcVZLSitzN2ZuUnl3UHgvCiAgICAgIGtpZFp2ZWZzSXJjendhdUxsL2lmZWUva0puOFJHTGFQcVVUVmdIWEdkcCtvb3ZKL2s3SUFTdmpLMmI2TFZsNmoKICAgICAgYlFJREFRQUIKICAgICAgLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tCiAgICAgIAotICAgcGF0aDogL2V0Yy9rdWJlcm5ldGVzL3BraS9zYS5rZXkKICAgIG93bmVyOiByb290OnJvb3QKICAgIHBlcm1pc3Npb25zOiAnMDYwMCcKICAgIGNvbnRlbnQ6IHwKICAgICAgLS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQogICAgICBNSUlFb3dJQkFBS0NBUUVBbWdYNG53SEN3YlpqYmpjMzBqSjdqdnlPcUxtU3o2MlpKcDFtbk5SUVI0ejlhVjYvCiAgICAgIHZpS216L3ZDVlFoMG9idDVKM2MzMG12Y3pscTRoR1dQcWQwWUhpRnFpcmpSVlN0ekJxamZaMFE1elc1YlA0YlEKICAgICAgcXlVRGxOMHJTcGVuc3REaEpmSnNHL2hKODU0bUdXeDMrcW1qckQ0MVpiUkgrcEl5TlN5UmRuZFBGRmhST25GZAogICAgICBudVZWeVZvaGxUOTNsNnFoNEN4ejRnRmJGWnRhT3R4OSsvRDY2cld2Ym96RlI0cEhMMHdLRlFFdVc1U1N3U2JmCiAgICAgIEMrQnFINk1rS1kvcmdzSjBndTIwWXFWS0orczdmblJ5d1B4L2tpZFp2ZWZzSXJjendhdUxsL2lmZWUva0puOFIKICAgICAgR0xhUHFVVFZnSFhHZHArb292Si9rN0lBU3ZqSzJiNkxWbDZqYlFJREFRQUJBb0lCQUZrM29ENHF2TytNZ0tmMQogICAgICBJRWFIcTM2MTJNVHZTWlUyejRISXB3bXRDaHVJRmJvVmdpZlcxcDJmRFlCSDk1Yy9pdnhMV0hCd3ZtUmh0SVFzCiAgICAgIGVEMUNycGUxYjR1UFp1SlkyclkrMTdsdmtiUG5lcitmamZ1MDR4QTExTC9PZlB0ZGR5Mk44UVY2bXd1Y3ppRG4KICAgICAgN2MrcXQvNHJ3cTU0OFVDNXNvK09rMnYxekQ3Unk0V3dFbHhhOURkUkpFcGtWRHlRdFYzQjZIUmtDRVRYd2NUagogICAgICBreWJ4Q0F4NUgwNVRrRk9xT2hxQ0NGSkNWZ2dsa1BwQnlPejFlV3MyUjkrQkdNZnBRdm1VOUh3LzVCdWFqV1BsCiAgICAgIGlRUC9BTGViUXBubXJ4RmVaeDRjakhYTmlnMUVLMWVjc0E3Kyt6ZmdRaWhDNzk2MmRmTjd3MTFCZFJIc2NMZ3IKICAgICAgZHFPQTlaa0NnWUVBekppWVFCaklFYWYxOFRRa2kxd0NidmlxNDM4clF2S2J3SkRtVnNVdmc0S0s5K2NELzc0cgogICAgICByUFlaekhlOE10R0ZQV2xIOWhGUEd2emw0eWxkUi82MXNJVlM5TVhiRkxZZmNac2RaQmNIMUNpd05ENHBodGZ4CiAgICAgIHdBMUlVdUJBckN3OUdwVG5DaFFtazJnZWx3dzB2QlZ5bkJxRDFUUVJTYStndEQycEFhV253dE1DZ1lFQXdMaVgKICAgICAgR0dWWVdYNEdqTm02OFo4ekVDOXBQc1h2ejFPNk45Wk1YT2NnVUtYcXJtcHpOdmdLb2dPWTZiVnJxVzBYbCtySQogICAgICBCeUdPYTVvODFkSFYrdDJNNmlySmQ3UklNS1dBWEpYQmNCeWpGTFBFTW9HY0d0RElqUDFYaWEzRDJObUlLZStnCiAgICAgIFQ0M1Flc1dZMFRmUGlCaUxtbUM5ME9aSE5kSnQwMGNTd1FqOW1MOENnWUJUTnoyMTFGNkx6K1VZMWp5RzhrV0wKICAgICAgSFZsa2JyVUo1ZU96enp2Z3p4TWtTbFI3d0ZyQUNubDVRQi8rS2pWQjlqWmJaQmNBM3NsdUVLN3dWa0s2cGI4QQogICAgICByVG13bFVrbWcyMEdxRENzSlRIcCtTS3lIUmFHNGc1U0x4VGJvSnF0Yk5EdG51TGFGcGdhSEo5VWtJSmlmZGEvCiAgICAgIDU0ajNqdFg1UXBYNnVabWtNZHlxUVFLQmdHQ0xXRzRKUHhROTlRd1VldmxXRmwrU1VMZjRzcVQ3UGJ1QktHb1cKICAgICAgQXZORDJ1Z2JQYktZMmNMRjZKR1RwK2FOVnhkc3IxNGJLbHl2UExDazJQdytocnc4U1FjbGtsQ0VhR1I1UlJsagogICAgICB6ektzeDZuQmtqRkF6R2NNOXhCcXMwVHIzTEdkY0lMSitWbTNxVkdPRXZJTDBjdTVrUDJZanEzZ3g5SGl0ZnRzCiAgICAgIEJKYkRBb0dCQUtrWTBKMkJiZVN1aXEveHdqV2hab0V6QW1IekEwcWVvRk9uaWhZckhqMDU0WkZxN1pBVHpoUkIKICAgICAgWXhsb2YycVk2enRCUStqeGpHTis0QXdCVVI0S00wRStjVi9aakJkeWZ4Tld3VzI2V012SjZRQ3RWT2VpWnpaMAogICAgICBQVTV3VWwzaE8xZjR6YlR2NUVEdGNqekh6d1M4anIvN2UxVHhrT3NBSmZCOHJDOWt6Q3YzCiAgICAgIC0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCiAgICAgIAotICAgcGF0aDogL2V0Yy9rdWJlcm5ldGVzL2F1ZGl0LXBvbGljeS55YW1sCiAgICBlbmNvZGluZzogImJhc2U2NCIKICAgIG93bmVyOiByb290OnJvb3QKICAgIHBlcm1pc3Npb25zOiAnMDYwMCcKICAgIGNvbnRlbnQ6IHwKICAgICAgWVhCcFZtVnljMmx2YmpvZ1lYVmthWFF1YXpoekxtbHZMM1l4Q210cGJtUTZJRkJ2YkdsamVRcHlkV3hsY3pvS0lDQXRJR3hsZG1Wc09pQk9iMjVsQ2lBZ0lDQjFjMlZ5Y3pvZ1d5SnplWE4wWlcwNmEzVmlaUzF3Y205NGVTSmRDaUFnSUNCMlpYSmljem9nV3lKM1lYUmphQ0pkQ2lBZ0lDQnlaWE52ZFhKalpYTTZDaUFnSUNBZ0lDMGdaM0p2ZFhBNklDSWlJQ01nWTI5eVpRb2dJQ0FnSUNBZ0lISmxjMjkxY21ObGN6b2dXeUpsYm1Sd2IybHVkSE1pTENBaWMyVnlkbWxqWlhNaUxDQWljMlZ5ZG1salpYTXZjM1JoZEhWeklsMEtJQ0F0SUd4bGRtVnNPaUJPYjI1bENpQWdJQ0IxYzJWeWN6b2dXeUp6ZVhOMFpXMDZkVzV6WldOMWNtVmtJbDBLSUNBZ0lHNWhiV1Z6Y0dGalpYTTZJRnNpYTNWaVpTMXplWE4wWlcwaVhRb2dJQ0FnZG1WeVluTTZJRnNpWjJWMElsMEtJQ0FnSUhKbGMyOTFjbU5sY3pvS0lDQWdJQ0FnTFNCbmNtOTFjRG9nSWlJZ0l5QmpiM0psQ2lBZ0lDQWdJQ0FnY21WemIzVnlZMlZ6T2lCYkltTnZibVpwWjIxaGNITWlYUW9nSUMwZ2JHVjJaV3c2SUU1dmJtVUtJQ0FnSUhWelpYSnpPaUJiSW10MVltVnNaWFFpWFNBaklHeGxaMkZqZVNCcmRXSmxiR1YwSUdsa1pXNTBhWFI1Q2lBZ0lDQjJaWEppY3pvZ1d5Sm5aWFFpWFFvZ0lDQWdjbVZ6YjNWeVkyVnpPZ29nSUNBZ0lDQXRJR2R5YjNWd09pQWlJaUFqSUdOdmNtVUtJQ0FnSUNBZ0lDQnlaWE52ZFhKalpYTTZJRnNpYm05a1pYTWlMQ0FpYm05a1pYTXZjM1JoZEhWeklsMEtJQ0F0SUd4bGRtVnNPaUJPYjI1bENpQWdJQ0IxYzJWeVIzSnZkWEJ6T2lCYkluTjVjM1JsYlRwdWIyUmxjeUpkQ2lBZ0lDQjJaWEppY3pvZ1d5Sm5aWFFpWFFvZ0lDQWdjbVZ6YjNWeVkyVnpPZ29nSUNBZ0lDQXRJR2R5YjNWd09pQWlJaUFqSUdOdmNtVUtJQ0FnSUNBZ0lDQnlaWE52ZFhKalpYTTZJRnNpYm05a1pYTWlMQ0FpYm05a1pYTXZjM1JoZEhWeklsMEtJQ0F0SUd4bGRtVnNPaUJPYjI1bENpQWdJQ0IxYzJWeWN6b0tJQ0FnSUNBZ0xTQnplWE4wWlcwNmEzVmlaUzFqYjI1MGNtOXNiR1Z5TFcxaGJtRm5aWElLSUNBZ0lDQWdMU0J6ZVhOMFpXMDZhM1ZpWlMxelkyaGxaSFZzWlhJS0lDQWdJQ0FnTFNCemVYTjBaVzA2YzJWeWRtbGpaV0ZqWTI5MWJuUTZhM1ZpWlMxemVYTjBaVzA2Wlc1a2NHOXBiblF0WTI5dWRISnZiR3hsY2dvZ0lDQWdkbVZ5WW5NNklGc2laMlYwSWl3Z0luVndaR0YwWlNKZENpQWdJQ0J1WVcxbGMzQmhZMlZ6T2lCYkltdDFZbVV0YzNsemRHVnRJbDBLSUNBZ0lISmxjMjkxY21ObGN6b0tJQ0FnSUNBZ0xTQm5jbTkxY0RvZ0lpSWdJeUJqYjNKbENpQWdJQ0FnSUNBZ2NtVnpiM1Z5WTJWek9pQmJJbVZ1WkhCdmFXNTBjeUpkQ2lBZ0xTQnNaWFpsYkRvZ1RtOXVaUW9nSUNBZ2RYTmxjbk02SUZzaWMzbHpkR1Z0T21Gd2FYTmxjblpsY2lKZENpQWdJQ0IyWlhKaWN6b2dXeUpuWlhRaVhRb2dJQ0FnY21WemIzVnlZMlZ6T2dvZ0lDQWdJQ0F0SUdkeWIzVndPaUFpSWlBaklHTnZjbVVLSUNBZ0lDQWdJQ0J5WlhOdmRYSmpaWE02SUZzaWJtRnRaWE53WVdObGN5SXNJQ0p1WVcxbGMzQmhZMlZ6TDNOMFlYUjFjeUlzSUNKdVlXMWxjM0JoWTJWekwyWnBibUZzYVhwbElsMEtJQ0F0SUd4bGRtVnNPaUJPYjI1bENpQWdJQ0IxYzJWeWN6b2dXeUpqYkhWemRHVnlMV0YxZEc5elkyRnNaWElpWFFvZ0lDQWdkbVZ5WW5NNklGc2laMlYwSWl3Z0luVndaR0YwWlNKZENpQWdJQ0J1WVcxbGMzQmhZMlZ6T2lCYkltdDFZbVV0YzNsemRHVnRJbDBLSUNBZ0lISmxjMjkxY21ObGN6b0tJQ0FnSUNBZ0xTQm5jbTkxY0RvZ0lpSWdJeUJqYjNKbENpQWdJQ0FnSUNBZ2NtVnpiM1Z5WTJWek9pQmJJbU52Ym1acFoyMWhjSE1pTENBaVpXNWtjRzlwYm5SeklsMEtJQ0FqSUVSdmJpZDBJR3h2WnlCSVVFRWdabVYwWTJocGJtY2diV1YwY21samN5NEtJQ0F0SUd4bGRtVnNPaUJPYjI1bENpQWdJQ0IxYzJWeWN6b0tJQ0FnSUNBZ0xTQnplWE4wWlcwNmEzVmlaUzFqYjI1MGNtOXNiR1Z5TFcxaGJtRm5aWElLSUNBZ0lIWmxjbUp6T2lCYkltZGxkQ0lzSUNKc2FYTjBJbDBLSUNBZ0lISmxjMjkxY21ObGN6b0tJQ0FnSUNBZ0xTQm5jbTkxY0RvZ0ltMWxkSEpwWTNNdWF6aHpMbWx2SWdvZ0lDTWdSRzl1SjNRZ2JHOW5JSFJvWlhObElISmxZV1F0YjI1c2VTQlZVa3h6TGdvZ0lDMGdiR1YyWld3NklFNXZibVVLSUNBZ0lHNXZibEpsYzI5MWNtTmxWVkpNY3pvS0lDQWdJQ0FnTFNBdmFHVmhiSFJvZWlvS0lDQWdJQ0FnTFNBdmRtVnljMmx2YmdvZ0lDQWdJQ0F0SUM5emQyRm5aMlZ5S2dvZ0lDTWdSRzl1SjNRZ2JHOW5JR1YyWlc1MGN5QnlaWEYxWlhOMGN5NEtJQ0F0SUd4bGRtVnNPaUJPYjI1bENpQWdJQ0J5WlhOdmRYSmpaWE02Q2lBZ0lDQWdJQzBnWjNKdmRYQTZJQ0lpSUNNZ1kyOXlaUW9nSUNBZ0lDQWdJSEpsYzI5MWNtTmxjem9nV3lKbGRtVnVkSE1pWFFvZ0lDTWdibTlrWlNCaGJtUWdjRzlrSUhOMFlYUjFjeUJqWVd4c2N5Qm1jbTl0SUc1dlpHVnpJR0Z5WlNCb2FXZG9MWFp2YkhWdFpTQmhibVFnWTJGdUlHSmxJR3hoY21kbExDQmtiMjRuZENCc2IyY2djbVZ6Y0c5dWMyVnpJR1p2Y2lCbGVIQmxZM1JsWkNCMWNHUmhkR1Z6SUdaeWIyMGdibTlrWlhNS0lDQXRJR3hsZG1Wc09pQlNaWEYxWlhOMENpQWdJQ0IxYzJWeWN6b2dXeUpyZFdKbGJHVjBJaXdnSW5ONWMzUmxiVHB1YjJSbExYQnliMkpzWlcwdFpHVjBaV04wYjNJaUxDQWljM2x6ZEdWdE9uTmxjblpwWTJWaFkyTnZkVzUwT210MVltVXRjM2x6ZEdWdE9tNXZaR1V0Y0hKdllteGxiUzFrWlhSbFkzUnZjaUpkQ2lBZ0lDQjJaWEppY3pvZ1d5SjFjR1JoZEdVaUxDSndZWFJqYUNKZENpQWdJQ0J5WlhOdmRYSmpaWE02Q2lBZ0lDQWdJQzBnWjNKdmRYQTZJQ0lpSUNNZ1kyOXlaUW9nSUNBZ0lDQWdJSEpsYzI5MWNtTmxjem9nV3lKdWIyUmxjeTl6ZEdGMGRYTWlMQ0FpY0c5a2N5OXpkR0YwZFhNaVhRb2dJQ0FnYjIxcGRGTjBZV2RsY3pvS0lDQWdJQ0FnTFNBaVVtVnhkV1Z6ZEZKbFkyVnBkbVZrSWdvZ0lDMGdiR1YyWld3NklGSmxjWFZsYzNRS0lDQWdJSFZ6WlhKSGNtOTFjSE02SUZzaWMzbHpkR1Z0T201dlpHVnpJbDBLSUNBZ0lIWmxjbUp6T2lCYkluVndaR0YwWlNJc0luQmhkR05vSWwwS0lDQWdJSEpsYzI5MWNtTmxjem9LSUNBZ0lDQWdMU0JuY205MWNEb2dJaUlnSXlCamIzSmxDaUFnSUNBZ0lDQWdjbVZ6YjNWeVkyVnpPaUJiSW01dlpHVnpMM04wWVhSMWN5SXNJQ0p3YjJSekwzTjBZWFIxY3lKZENpQWdJQ0J2YldsMFUzUmhaMlZ6T2dvZ0lDQWdJQ0F0SUNKU1pYRjFaWE4wVW1WalpXbDJaV1FpQ2lBZ0l5QmtaV3hsZEdWamIyeHNaV04wYVc5dUlHTmhiR3h6SUdOaGJpQmlaU0JzWVhKblpTd2daRzl1SjNRZ2JHOW5JSEpsYzNCdmJuTmxjeUJtYjNJZ1pYaHdaV04wWldRZ2JtRnRaWE53WVdObElHUmxiR1YwYVc5dWN3b2dJQzBnYkdWMlpXdzZJRkpsY1hWbGMzUUtJQ0FnSUhWelpYSnpPaUJiSW5ONWMzUmxiVHB6WlhKMmFXTmxZV05qYjNWdWREcHJkV0psTFhONWMzUmxiVHB1WVcxbGMzQmhZMlV0WTI5dWRISnZiR3hsY2lKZENpQWdJQ0IyWlhKaWN6b2dXeUprWld4bGRHVmpiMnhzWldOMGFXOXVJbDBLSUNBZ0lHOXRhWFJUZEdGblpYTTZDaUFnSUNBZ0lDMGdJbEpsY1hWbGMzUlNaV05sYVhabFpDSUtJQ0FqSUZObFkzSmxkSE1zSUVOdmJtWnBaMDFoY0hNc0lHRnVaQ0JVYjJ0bGJsSmxkbWxsZDNNZ1kyRnVJR052Ym5SaGFXNGdjMlZ1YzJsMGFYWmxJQ1lnWW1sdVlYSjVJR1JoZEdFc0NpQWdJeUJ6YnlCdmJteDVJR3h2WnlCaGRDQjBhR1VnVFdWMFlXUmhkR0VnYkdWMlpXd3VDaUFnTFNCc1pYWmxiRG9nVFdWMFlXUmhkR0VLSUNBZ0lISmxjMjkxY21ObGN6b0tJQ0FnSUNBZ0xTQm5jbTkxY0RvZ0lpSWdJeUJqYjNKbENpQWdJQ0FnSUNBZ2NtVnpiM1Z5WTJWek9pQmJJbk5sWTNKbGRITWlMQ0FpWTI5dVptbG5iV0Z3Y3lKZENpQWdJQ0FnSUMwZ1ozSnZkWEE2SUdGMWRHaGxiblJwWTJGMGFXOXVMbXM0Y3k1cGJ3b2dJQ0FnSUNBZ0lISmxjMjkxY21ObGN6b2dXeUowYjJ0bGJuSmxkbWxsZDNNaVhRb2dJQ0FnYjIxcGRGTjBZV2RsY3pvS0lDQWdJQ0FnTFNBaVVtVnhkV1Z6ZEZKbFkyVnBkbVZrSWdvZ0lDTWdSMlYwSUhKbGNITnZibk5sY3lCallXNGdZbVVnYkdGeVoyVTdJSE5yYVhBZ2RHaGxiUzRLSUNBdElHeGxkbVZzT2lCU1pYRjFaWE4wQ2lBZ0lDQjJaWEppY3pvZ1d5Sm5aWFFpTENBaWJHbHpkQ0lzSUNKM1lYUmphQ0pkQ2lBZ0lDQnlaWE52ZFhKalpYTTZDaUFnSUNBdElHZHliM1Z3T2lBaUlpQWpJR052Y21VS0lDQWdJQzBnWjNKdmRYQTZJQ0poWkcxcGMzTnBiMjV5WldkcGMzUnlZWFJwYjI0dWF6aHpMbWx2SWdvZ0lDQWdMU0JuY205MWNEb2dJbUZ3YVdWNGRHVnVjMmx2Ym5NdWF6aHpMbWx2SWdvZ0lDQWdMU0JuY205MWNEb2dJbUZ3YVhKbFoybHpkSEpoZEdsdmJpNXJPSE11YVc4aUNpQWdJQ0F0SUdkeWIzVndPaUFpWVhCd2N5SUtJQ0FnSUMwZ1ozSnZkWEE2SUNKaGRYUm9aVzUwYVdOaGRHbHZiaTVyT0hNdWFXOGlDaUFnSUNBdElHZHliM1Z3T2lBaVlYVjBhRzl5YVhwaGRHbHZiaTVyT0hNdWFXOGlDaUFnSUNBdElHZHliM1Z3T2lBaVlYVjBiM05qWVd4cGJtY2lDaUFnSUNBdElHZHliM1Z3T2lBaVltRjBZMmdpQ2lBZ0lDQXRJR2R5YjNWd09pQWlZMlZ5ZEdsbWFXTmhkR1Z6TG1zNGN5NXBieUlLSUNBZ0lDMGdaM0p2ZFhBNklDSmxlSFJsYm5OcGIyNXpJZ29nSUNBZ0xTQm5jbTkxY0RvZ0ltMWxkSEpwWTNNdWF6aHpMbWx2SWdvZ0lDQWdMU0JuY205MWNEb2dJbTVsZEhkdmNtdHBibWN1YXpoekxtbHZJZ29nSUNBZ0xTQm5jbTkxY0RvZ0luQnZiR2xqZVNJS0lDQWdJQzBnWjNKdmRYQTZJQ0p5WW1GakxtRjFkR2h2Y21sNllYUnBiMjR1YXpoekxtbHZJZ29nSUNBZ0xTQm5jbTkxY0RvZ0luTmxkSFJwYm1kekxtczRjeTVwYnlJS0lDQWdJQzBnWjNKdmRYQTZJQ0p6ZEc5eVlXZGxMbXM0Y3k1cGJ5SUtJQ0FnSUc5dGFYUlRkR0ZuWlhNNkNpQWdJQ0FnSUMwZ0lsSmxjWFZsYzNSU1pXTmxhWFpsWkNJS0lDQWpJRVJsWm1GMWJIUWdiR1YyWld3Z1ptOXlJR3R1YjNkdUlFRlFTWE1LSUNBdElHeGxkbVZzT2lCU1pYRjFaWE4wVW1WemNHOXVjMlVLSUNBZ0lISmxjMjkxY21ObGN6b0tJQ0FnSUMwZ1ozSnZkWEE2SUNJaUlDTWdZMjl5WlFvZ0lDQWdMU0JuY205MWNEb2dJbUZrYldsemMybHZibkpsWjJsemRISmhkR2x2Ymk1ck9ITXVhVzhpQ2lBZ0lDQXRJR2R5YjNWd09pQWlZWEJwWlhoMFpXNXphVzl1Y3k1ck9ITXVhVzhpQ2lBZ0lDQXRJR2R5YjNWd09pQWlZWEJwY21WbmFYTjBjbUYwYVc5dUxtczRjeTVwYnlJS0lDQWdJQzBnWjNKdmRYQTZJQ0poY0hCeklnb2dJQ0FnTFNCbmNtOTFjRG9nSW1GMWRHaGxiblJwWTJGMGFXOXVMbXM0Y3k1cGJ5SUtJQ0FnSUMwZ1ozSnZkWEE2SUNKaGRYUm9iM0pwZW1GMGFXOXVMbXM0Y3k1cGJ5SUtJQ0FnSUMwZ1ozSnZkWEE2SUNKaGRYUnZjMk5oYkdsdVp5SUtJQ0FnSUMwZ1ozSnZkWEE2SUNKaVlYUmphQ0lLSUNBZ0lDMGdaM0p2ZFhBNklDSmpaWEowYVdacFkyRjBaWE11YXpoekxtbHZJZ29nSUNBZ0xTQm5jbTkxY0RvZ0ltVjRkR1Z1YzJsdmJuTWlDaUFnSUNBdElHZHliM1Z3T2lBaWJXVjBjbWxqY3k1ck9ITXVhVzhpQ2lBZ0lDQXRJR2R5YjNWd09pQWlibVYwZDI5eWEybHVaeTVyT0hNdWFXOGlDaUFnSUNBdElHZHliM1Z3T2lBaWNHOXNhV041SWdvZ0lDQWdMU0JuY205MWNEb2dJbkppWVdNdVlYVjBhRzl5YVhwaGRHbHZiaTVyT0hNdWFXOGlDaUFnSUNBdElHZHliM1Z3T2lBaWMyVjBkR2x1WjNNdWF6aHpMbWx2SWdvZ0lDQWdMU0JuY205MWNEb2dJbk4wYjNKaFoyVXVhemh6TG1sdklnb2dJQ0FnYjIxcGRGTjBZV2RsY3pvS0lDQWdJQ0FnTFNBaVVtVnhkV1Z6ZEZKbFkyVnBkbVZrSWdvZ0lDTWdSR1ZtWVhWc2RDQnNaWFpsYkNCbWIzSWdZV3hzSUc5MGFHVnlJSEpsY1hWbGMzUnpMZ29nSUMwZ2JHVjJaV3c2SUUxbGRHRmtZWFJoQ2lBZ0lDQnZiV2wwVTNSaFoyVnpPZ29nSUNBZ0lDQXRJQ0pTWlhGMVpYTjBVbVZqWldsMlpXUWlDZz09Ci0gICBwYXRoOiAvZXRjL2t1YmVybmV0ZXMvaGFyZGVuaW5nL3ByaXZpbGVnZWQtcHNwLnlhbWwKICAgIGVuY29kaW5nOiAiYmFzZTY0IgogICAgb3duZXI6IHJvb3Q6cm9vdAogICAgcGVybWlzc2lvbnM6ICcwNjAwJwogICAgY29udGVudDogfAogICAgICBZWEJwVm1WeWMybHZiam9nY0c5c2FXTjVMM1l4WW1WMFlURUthMmx1WkRvZ1VHOWtVMlZqZFhKcGRIbFFiMnhwWTNrS2JXVjBZV1JoZEdFNkNpQWdZVzV1YjNSaGRHbHZibk02Q2lBZ0lDQWpJRk5sWlNCb2RIUndjem92TDJ0MVltVnlibVYwWlhNdWFXOHZaRzlqY3k5amIyNWpaWEIwY3k5d2IyeHBZM2t2Y0c5a0xYTmxZM1Z5YVhSNUxYQnZiR2xqZVM4amMyVmpZMjl0Y0FvZ0lDQWdjMlZqWTI5dGNDNXpaV04xY21sMGVTNWhiSEJvWVM1cmRXSmxjbTVsZEdWekxtbHZMMkZzYkc5M1pXUlFjbTltYVd4bFRtRnRaWE02SUNjcUp3b2dJRzVoYldVNklIQnlhWFpwYkdWblpXUUtjM0JsWXpvS0lDQndjbWwyYVd4bFoyVmtPaUIwY25WbENpQWdZV3hzYjNkUWNtbDJhV3hsWjJWRmMyTmhiR0YwYVc5dU9pQjBjblZsQ2lBZ1lXeHNiM2RsWkVOaGNHRmlhV3hwZEdsbGN6b0tJQ0FnSUMwZ0p5b25DaUFnZG05c2RXMWxjem9LSUNBZ0lDMGdKeW9uQ2lBZ2FHOXpkRTVsZEhkdmNtczZJSFJ5ZFdVS0lDQm9iM04wVUc5eWRITTZDaUFnSUNBdElHMXBiam9nTUFvZ0lDQWdJQ0J0WVhnNklEWTFOVE0xQ2lBZ2FHOXpkRWxRUXpvZ2RISjFaUW9nSUdodmMzUlFTVVE2SUhSeWRXVUtJQ0J5ZFc1QmMxVnpaWEk2Q2lBZ0lDQnlkV3hsT2lBblVuVnVRWE5CYm5rbkNpQWdjMlZNYVc1MWVEb0tJQ0FnSUhKMWJHVTZJQ2RTZFc1QmMwRnVlU2NLSUNCemRYQndiR1Z0Wlc1MFlXeEhjbTkxY0hNNkNpQWdJQ0J5ZFd4bE9pQW5VblZ1UVhOQmJua25DaUFnWm5OSGNtOTFjRG9LSUNBZ0lISjFiR1U2SUNkU2RXNUJjMEZ1ZVNjS0lDQnlaV0ZrVDI1c2VWSnZiM1JHYVd4bGMzbHpkR1Z0T2lCbVlXeHpaUW9LTFMwdENnb2pJRU5zZFhOMFpYSWdjbTlzWlNCM2FHbGphQ0JuY21GdWRITWdZV05qWlhOeklIUnZJSFJvWlNCd2NtbDJhV3hsWjJWa0lIQnZaQ0J6WldOMWNtbDBlU0J3YjJ4cFkza0tZWEJwVm1WeWMybHZiam9nY21KaFl5NWhkWFJvYjNKcGVtRjBhVzl1TG1zNGN5NXBieTkyTVFwcmFXNWtPaUJEYkhWemRHVnlVbTlzWlFwdFpYUmhaR0YwWVRvS0lDQnVZVzFsT2lCd2NtbDJhV3hsWjJWa0NuSjFiR1Z6T2dvZ0lDMGdZWEJwUjNKdmRYQnpPZ29nSUNBZ0lDQXRJSEJ2YkdsamVRb2dJQ0FnY21WemIzVnlZMlZPWVcxbGN6b0tJQ0FnSUNBZ0xTQndjbWwyYVd4bFoyVmtDaUFnSUNCeVpYTnZkWEpqWlhNNkNpQWdJQ0FnSUMwZ2NHOWtjMlZqZFhKcGRIbHdiMnhwWTJsbGN3b2dJQ0FnZG1WeVluTTZDaUFnSUNBZ0lDMGdkWE5sQ2dvdExTMEtDbUZ3YVZabGNuTnBiMjQ2SUhKaVlXTXVZWFYwYUc5eWFYcGhkR2x2Ymk1ck9ITXVhVzh2ZGpFS2EybHVaRG9nVW05c1pVSnBibVJwYm1jS2JXVjBZV1JoZEdFNkNpQWdibUZ0WlRvZ2NISnBkbWxzWldkbFpBb2dJRzVoYldWemNHRmpaVG9nYTNWaVpTMXplWE4wWlcwS2NtOXNaVkpsWmpvS0lDQmhjR2xIY205MWNEb2djbUpoWXk1aGRYUm9iM0pwZW1GMGFXOXVMbXM0Y3k1cGJ3b2dJR3RwYm1RNklFTnNkWE4wWlhKU2IyeGxDaUFnYm1GdFpUb2djSEpwZG1sc1pXZGxaQXB6ZFdKcVpXTjBjem9LSUNBaklFWnZjaUIwYUdVZ2EzVmlaV0ZrYlNCcmRXSmxMWE41YzNSbGJTQnViMlJsY3dvZ0lDMGdZWEJwUjNKdmRYQTZJSEppWVdNdVlYVjBhRzl5YVhwaGRHbHZiaTVyT0hNdWFXOEtJQ0FnSUd0cGJtUTZJRWR5YjNWd0NpQWdJQ0J1WVcxbE9pQnplWE4wWlcwNmJtOWtaWE1LSUNBaklFWnZjaUJoYkd3Z2MyVnlkbWxqWlNCaFkyTnZkVzUwY3lCcGJpQjBhR1VnYTNWaVpTMXplWE4wWlcwZ2JtRnRaWE53WVdObENpQWdMU0JoY0dsSGNtOTFjRG9nY21KaFl5NWhkWFJvYjNKcGVtRjBhVzl1TG1zNGN5NXBid29nSUNBZ2EybHVaRG9nUjNKdmRYQUtJQ0FnSUc1aGJXVTZJSE41YzNSbGJUcHpaWEoyYVdObFlXTmpiM1Z1ZEhNNmEzVmlaUzF6ZVhOMFpXMEtDaTB0TFFvS0l5QkRiSFZ6ZEdWeUlISnZiR1VnWW1sdVpHbHVaeUJtYjNJZ1pHVm1ZWFZzZENCd2IyUWdjMlZqZFhKcGRIa2djRzlzYVdONUlHZHlZVzUwYVc1bklHRnNiQ0JoZFhSb1pXNTBhV05oZEdWa0lIVnpaWEp6SUdGalkyVnpjd3BoY0dsV1pYSnphVzl1T2lCeVltRmpMbUYxZEdodmNtbDZZWFJwYjI0dWF6aHpMbWx2TDNZeENtdHBibVE2SUVOc2RYTjBaWEpTYjJ4bFFtbHVaR2x1WndwdFpYUmhaR0YwWVRvS0lDQnVZVzFsT2lCeVpYTjBjbWxqZEdWa0NuSnZiR1ZTWldZNkNpQWdZWEJwUjNKdmRYQTZJSEppWVdNdVlYVjBhRzl5YVhwaGRHbHZiaTVyT0hNdWFXOEtJQ0JyYVc1a09pQkRiSFZ6ZEdWeVVtOXNaUW9nSUc1aGJXVTZJSEJ5YVhacGJHVm5aV1FLYzNWaWFtVmpkSE02Q2lBZ0xTQmhjR2xIY205MWNEb2djbUpoWXk1aGRYUm9iM0pwZW1GMGFXOXVMbXM0Y3k1cGJ3b2dJQ0FnYTJsdVpEb2dSM0p2ZFhBS0lDQWdJRzVoYldVNklITjVjM1JsYlRwaGRYUm9aVzUwYVdOaGRHVmsKLSAgIHBhdGg6IC9ldGMvc3lzY3RsLmQvOTAta3ViZWxldC5jb25mCiAgICBlbmNvZGluZzogImJhc2U2NCIKICAgIG93bmVyOiByb290OnJvb3QKICAgIHBlcm1pc3Npb25zOiAnMDYwMCcKICAgIGNvbnRlbnQ6IHwKICAgICAgZG0wdWIzWmxjbU52YlcxcGRGOXRaVzF2Y25rOU1RcHJaWEp1Wld3dWNHRnVhV005TVRBS2EyVnlibVZzTG5CaGJtbGpYMjl1WDI5dmNITTlNUT09Ci0gICBwYXRoOiAvdG1wL2t1YmVhZG0ueWFtbAogICAgb3duZXI6IHJvb3Q6cm9vdAogICAgcGVybWlzc2lvbnM6ICcwNjQwJwogICAgY29udGVudDogfAogICAgICAtLS0KICAgICAgYXBpU2VydmVyOgogICAgICAgIGV4dHJhQXJnczoKICAgICAgICAgIGFub255bW91cy1hdXRoOiAidHJ1ZSIKICAgICAgICAgIGF1ZGl0LWxvZy1tYXhhZ2U6ICIzMCIKICAgICAgICAgIGF1ZGl0LWxvZy1tYXhiYWNrdXA6ICIxMCIKICAgICAgICAgIGF1ZGl0LWxvZy1tYXhzaXplOiAiMTAwIgogICAgICAgICAgYXVkaXQtbG9nLXBhdGg6IC92YXIvbG9nL2FwaXNlcnZlci9hdWRpdC5sb2cKICAgICAgICAgIGF1ZGl0LXBvbGljeS1maWxlOiAvZXRjL2t1YmVybmV0ZXMvYXVkaXQtcG9saWN5LnlhbWwKICAgICAgICAgIGF1dGhvcml6YXRpb24tbW9kZTogUkJBQyxOb2RlCiAgICAgICAgICBkZWZhdWx0LW5vdC1yZWFkeS10b2xlcmF0aW9uLXNlY29uZHM6ICI2MCIKICAgICAgICAgIGRlZmF1bHQtdW5yZWFjaGFibGUtdG9sZXJhdGlvbi1zZWNvbmRzOiAiNjAiCiAgICAgICAgICBkaXNhYmxlLWFkbWlzc2lvbi1wbHVnaW5zOiBBbHdheXNBZG1pdAogICAgICAgICAgZW5hYmxlLWFkbWlzc2lvbi1wbHVnaW5zOiBQb2RQcmVzZXQsQWx3YXlzUHVsbEltYWdlcyxOYW1lc3BhY2VMaWZlY3ljbGUsU2VydmljZUFjY291bnQsTm9kZVJlc3RyaWN0aW9uLFBvZFNlY3VyaXR5UG9saWN5CiAgICAgICAgICBpbnNlY3VyZS1wb3J0OiAiMCIKICAgICAgICAgIHByb2ZpbGluZzogImZhbHNlIgogICAgICAgICAgcnVudGltZS1jb25maWc6IHNldHRpbmdzLms4cy5pby92MWFscGhhMT10cnVlCiAgICAgICAgICB0bHMtY2lwaGVyLXN1aXRlczogVExTX0VDREhFX0VDRFNBX1dJVEhfQUVTXzEyOF9HQ01fU0hBMjU2LFRMU19FQ0RIRV9SU0FfV0lUSF9BRVNfMTI4X0dDTV9TSEEyNTYsVExTX0VDREhFX0VDRFNBX1dJVEhfQ0hBQ0hBMjBfUE9MWTEzMDUsVExTX0VDREhFX1JTQV9XSVRIX0FFU18yNTZfR0NNX1NIQTM4NCxUTFNfRUNESEVfUlNBX1dJVEhfQ0hBQ0hBMjBfUE9MWTEzMDUsVExTX0VDREhFX0VDRFNBX1dJVEhfQUVTXzI1Nl9HQ01fU0hBMzg0LFRMU19SU0FfV0lUSF9BRVNfMjU2X0dDTV9TSEEzODQsVExTX1JTQV9XSVRIX0FFU18xMjhfR0NNX1NIQTI1NgogICAgICAgIGV4dHJhVm9sdW1lczoKICAgICAgICAtIGhvc3RQYXRoOiAvdmFyL2xvZy9hcGlzZXJ2ZXIKICAgICAgICAgIG1vdW50UGF0aDogL3Zhci9sb2cvYXBpc2VydmVyCiAgICAgICAgICBuYW1lOiBhdWRpdC1sb2cKICAgICAgICAgIHBhdGhUeXBlOiBEaXJlY3RvcnlPckNyZWF0ZQogICAgICAgIC0gaG9zdFBhdGg6IC9ldGMva3ViZXJuZXRlcy9hdWRpdC1wb2xpY3kueWFtbAogICAgICAgICAgbW91bnRQYXRoOiAvZXRjL2t1YmVybmV0ZXMvYXVkaXQtcG9saWN5LnlhbWwKICAgICAgICAgIG5hbWU6IGF1ZGl0LXBvbGljeQogICAgICAgICAgcGF0aFR5cGU6IEZpbGUKICAgICAgICAgIHJlYWRPbmx5OiB0cnVlCiAgICAgICAgdGltZW91dEZvckNvbnRyb2xQbGFuZTogMTBtMHMKICAgICAgYXBpVmVyc2lvbjoga3ViZWFkbS5rOHMuaW8vdjFiZXRhMgogICAgICBjbHVzdGVyTmFtZTogY2x1c3Rlci1tYWFzMwogICAgICBjb250cm9sUGxhbmVFbmRwb2ludDogY2x1c3Rlci1tYWFzMy5tYWFzLnNjOjY0NDMKICAgICAgY29udHJvbGxlck1hbmFnZXI6CiAgICAgICAgZXh0cmFBcmdzOgogICAgICAgICAgYWRkcmVzczogMC4wLjAuMAogICAgICAgICAgZmVhdHVyZS1nYXRlczogUm90YXRlS3ViZWxldFNlcnZlckNlcnRpZmljYXRlPXRydWUKICAgICAgICAgIHBvZC1ldmljdGlvbi10aW1lb3V0OiAxbTBzCiAgICAgICAgICBwcm9maWxpbmc6ICJmYWxzZSIKICAgICAgICAgIHRlcm1pbmF0ZWQtcG9kLWdjLXRocmVzaG9sZDogIjI1IgogICAgICAgICAgdXNlLXNlcnZpY2UtYWNjb3VudC1jcmVkZW50aWFsczogInRydWUiCiAgICAgIGRuczoge30KICAgICAgZXRjZDoge30KICAgICAga2luZDogQ2x1c3RlckNvbmZpZ3VyYXRpb24KICAgICAga3ViZXJuZXRlc1ZlcnNpb246IHYxLjE4LjE1CiAgICAgIG5ldHdvcmtpbmc6CiAgICAgICAgZG5zRG9tYWluOiBjbHVzdGVyLmxvY2FsCiAgICAgICAgcG9kU3VibmV0OiAxOTIuMTY4LjAuMC8xNgogICAgICAgIHNlcnZpY2VTdWJuZXQ6IDEwLjk2LjAuMC8xMgogICAgICBzY2hlZHVsZXI6CiAgICAgICAgZXh0cmFBcmdzOgogICAgICAgICAgYWRkcmVzczogMC4wLjAuMAogICAgICAgICAgcHJvZmlsaW5nOiAiZmFsc2UiCiAgICAgIAogICAgICAtLS0KICAgICAgYXBpVmVyc2lvbjoga3ViZWFkbS5rOHMuaW8vdjFiZXRhMgogICAgICBraW5kOiBJbml0Q29uZmlndXJhdGlvbgogICAgICBsb2NhbEFQSUVuZHBvaW50OgogICAgICAgIGFkdmVydGlzZUFkZHJlc3M6ICIiCiAgICAgICAgYmluZFBvcnQ6IDAKICAgICAgbm9kZVJlZ2lzdHJhdGlvbjoKICAgICAgICBrdWJlbGV0RXh0cmFBcmdzOgogICAgICAgICAgZXZlbnQtcXBzOiAiMCIKICAgICAgICAgIGZlYXR1cmUtZ2F0ZXM6IFJvdGF0ZUt1YmVsZXRTZXJ2ZXJDZXJ0aWZpY2F0ZT10cnVlCiAgICAgICAgICBwcm90ZWN0LWtlcm5lbC1kZWZhdWx0czogInRydWUiCiAgICAgICAgICByZWFkLW9ubHktcG9ydDogIjAiCiAgICAgICAgICB0bHMtY2lwaGVyLXN1aXRlczogVExTX0VDREhFX0VDRFNBX1dJVEhfQUVTXzEyOF9HQ01fU0hBMjU2LFRMU19FQ0RIRV9SU0FfV0lUSF9BRVNfMTI4X0dDTV9TSEEyNTYsVExTX0VDREhFX0VDRFNBX1dJVEhfQ0hBQ0hBMjBfUE9MWTEzMDUsVExTX0VDREhFX1JTQV9XSVRIX0FFU18yNTZfR0NNX1NIQTM4NCxUTFNfRUNESEVfUlNBX1dJVEhfQ0hBQ0hBMjBfUE9MWTEzMDUsVExTX0VDREhFX0VDRFNBX1dJVEhfQUVTXzI1Nl9HQ01fU0hBMzg0LFRMU19SU0FfV0lUSF9BRVNfMjU2X0dDTV9TSEEzODQsVExTX1JTQV9XSVRIX0FFU18xMjhfR0NNX1NIQTI1NgogICAgICAgIG5hbWU6ICd7eyB2MS5sb2NhbF9ob3N0bmFtZSB9fScKICAgICAgCnJ1bmNtZDoKICAtICIuIC9ldGMvb3MtcmVsZWFzZSAmJiBbIFwiJElEXCIgPSBcInVidW50dVwiIF0gJiYgbG4gLXNmIC9ydW4vc3lzdGVtZC9yZXNvbHZlL3Jlc29sdi5jb25mIC9ldGMvcmVzb2x2LmNvbmYiCiAgLSAiaG9zdG5hbWUgXCJ7eyB2MS5sb2NhbF9ob3N0bmFtZSB9fVwiIgogIC0gImVjaG8gXCI6OjEgICAgICAgICBpcHY2LWxvY2FsaG9zdCBpcHY2LWxvb3BiYWNrXCIgPi9ldGMvaG9zdHMiCiAgLSAiZWNobyBcIjEyNy4wLjAuMSAgIGxvY2FsaG9zdCBcIiA+Pi9ldGMvaG9zdHMiCiAgLSAiZWNobyBcIjEyNy4wLjAuMSAgIHt7IHYxLmxvY2FsX2hvc3RuYW1lIH19XCIgPj4vZXRjL2hvc3RzIgogIC0gImVjaG8gXCJ7eyB2MS5sb2NhbF9ob3N0bmFtZSB9fVwiID4vZXRjL2hvc3RuYW1lIgogIC0gIndoaWxlIFsgISAtUyAvdmFyL3J1bi9jb250YWluZXJkL2NvbnRhaW5lcmQuc29jayBdOyBkbyBlY2hvICdXYWl0aW5nIGZvciBjb250YWluZXJkLi4uJzsgc2xlZXAgMTsgZG9uZSIKICAtICJlY2hvIFwiPT09PT4gQXBwbHlpbmcga2VybmVsIHBhcmFtZXRlcnMgZm9yIEt1YmVsZXRcIiIKICAtICJzeXNjdGwgLXAgL2V0Yy9zeXNjdGwuZC85MC1rdWJlbGV0LmNvbmYiCiAgLSAna3ViZWFkbSBpbml0IC0tY29uZmlnIC90bXAva3ViZWFkbS55YW1sICcKICAtICJleHBvcnQgS1VCRUNPTkZJRz0vZXRjL2t1YmVybmV0ZXMvYWRtaW4uY29uZiIKICAtICJbIC1mIFwiJEtVQkVDT05GSUdcIiBdICYmIHsgZWNobyBcIiA9PT09PiBBcHBseWluZyBQb2RTZWN1cml0eVBvbGljeVwiIDsgdW50aWwgJChrdWJlY3RsIGFwcGx5IC1mIC9ldGMva3ViZXJuZXRlcy9oYXJkZW5pbmcvcHJpdmlsZWdlZC1wc3AueWFtbCA+IC9kZXYvbnVsbCApOyBkbyBlY2hvIFwiRmFpbGVkIHRvIGFwcGx5IFBvZFNlY3VyaXR5UG9saWNpZXMsIHdpbGwgcmV0cnkgaW4gNXNcIiA7IHNsZWVwIDUgOyBkb25lIDsgfSB8fCBlY2hvIFwiU2tpcHBpbmcgUG9kU2VjdXJpdHlQb2xpY3kgZm9yIHdvcmtlciBub2Rlc1wiIgpudHA6CiAgZW5hYmxlZDogdHJ1ZQogIHNlcnZlcnM6CnVzZXJzOgogIC0gbmFtZTogc3BlY3RybwogICAgcGFzc3dkOiBzcGVjdHJvCiAgICBzdWRvOiBBTEw9KEFMTCkgTk9QQVNTV0Q6QUxMCiAgICBzc2hfYXV0aG9yaXplZF9rZXlzOgogICAgICAtIHNzaC1yc2EgQUFBQUIzTnphQzF5YzJFQUFBQURBUUFCQUFBQ0FRREFVYUJPREROcFF4SkpxWHovUSthZmF1TTVFUEZwNG9EUnJXeksvY0dkOTJOK2V4a2QrdEVaZE83bjNSK1dBeDBYVGNQaVZ2ZktjdHpla05TNmYvWk1yRmI1SEFQdkZKdG5HTklFMnNtK2VyeUVuQUgrU2M3cHBaaGEzL01hU3AvQTJkbTJJb2JZUnZ3bDA0c0VpNHcxSytJOFJ0dCtmQmUzZ1Yzd25QM0UzeU9pUng0RzJYRkMzVDZ4OE1qZE9rak8ydjZmQmx1dzFNMUgyZXRwMW0vbjRENzBVa2V5Vkp5aXBjbnR6MHViSHdlVTd5UE5kTlMzWWtwRXhZSUdobTk3QzRkeUVTSEV3OVBaVmRMczFGQkw2bVc1WWI0cVZiZzVGa0xsakxGeW5oOWpMOElBWWFsMHBpYkFBSCtTay9OZDQ4NjVsVkozbHJtOG5oQm5qczFPRUZBNDg3cmN4eUlueEprL1d3TEVIdm84OEt1OUlsWXExNUFscjhOL0pISGFja1Y0a0FIMHlKTmVMdHdBeXNLMmdJN01iNXVHbk1UUHJ6NzNJWnFYU3hGcW5VMzRPdyt2d3U4ZlhCdFhtSEE1Y1VIeXowQVJ6cGd4OEEwZThMOFNqZFkvNmRzRmhTekdvN0pvQ0VsTjdzRU1vN2lJNFdkbzhDWWRsVCtPWGl6QmYzcG5NL3d4UlpjbENlUkRKcEx0ZDZqbDVzd3Y3SjVvY0lORWgxcjNCbGxDeVY4TDdYcDVndzhJS1Qzb2h6NnJsaUdKd3dscS9lbXFZNTJlQjN3d2VUTFJtMzB6M2gzYVFhM1llQVIrMkpndldsckozWVdzWVlDTFJoU1FUZlltcGdVa29aSWNmQjJ4a1p6cDZjeW9vTTBpNU9iejMxM0hzeHdCSE9tTnJ3PT0gc3BlY3Ryb0BzcGVjdHJvCgo=").
			SetDistroSeries("u-1804-0-k-11912-0").Deploy(ctx)
		assert.Nil(t, err, "expecting nil error")
		assert.NotNil(t, res)

		assert.Equal(t, res.OSSystem(), "custom")
		assert.Equal(t, res.DistroSeries(), "u-1804-0-k-11912-0")

		// Give me a few seconds before clenaing up
		time.Sleep(15 * time.Second)

		releaseMachine(res)
	})

}

func TestClient_UpdateMachine(t *testing.T) {
	c := NewAuthenticatedClientSet(os.Getenv("MAAS_ENDPOINT"), os.Getenv("MAAS_API_KEY"))

	res, err := c.Machines().Machine("e37xxm").
		Modifier().
		SetSwapSize(10).
		Update(context.Background())
	assert.Nil(t, err)
	assert.NotNil(t, res)
	assert.Equal(t, res.SwapSize(), 10)

}
